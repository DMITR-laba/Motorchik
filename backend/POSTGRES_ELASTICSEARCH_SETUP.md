# Настройка PostgreSQL + Elasticsearch (без ChromaDB)

## Изменения

ChromaDB полностью отключена из-за проблем с паникой Rust-кода. Система теперь использует только:

1. **PostgreSQL** - для хранения и базового поиска данных
2. **Elasticsearch** - для полнотекстового и семантического поиска автомобилей

## Что изменилось

### 1. `backend/services/rag_service.py`
- ✅ ChromaDB импорты закомментированы
- ✅ Инициализация ChromaDB отключена
- ✅ Методы `_search_semantic`, `_search_cars_semantic`, `_search_used_cars_semantic` переписаны для использования PostgreSQL и Elasticsearch
- ✅ Основной поиск автомобилей переведен на Elasticsearch

### 2. Логика поиска
**До**: ChromaDB → PostgreSQL → Elasticsearch  
**После**: PostgreSQL → Elasticsearch

## Преимущества

✅ **Надежность**: Нет риска падения из-за ошибок ChromaDB  
✅ **Производительность**: Elasticsearch быстрее для полнотекстового поиска  
✅ **Точность**: Elasticsearch с русским анализатором дает лучшие результаты  
✅ **Простота**: Меньше зависимостей, проще поддержка

## Требования

- PostgreSQL должен быть запущен и доступен
- Elasticsearch должен быть запущен на `localhost:9200`
- Индексы в Elasticsearch должны быть созданы (запустить `elasticsearch_setup.py`)

## Использование

Система автоматически использует:
1. **PostgreSQL** для поиска статей, документов и базового поиска автомобилей
2. **Elasticsearch** для продвинутого поиска автомобилей с фильтрами

Все работает автоматически - никаких дополнительных настроек не требуется!







