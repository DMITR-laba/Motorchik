# üìä –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-01-27

## üîç –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```
‚úÖ motorchik-backend-1       - Up 11 minutes
‚úÖ motorchik-frontend-1      - Up 10 hours
‚úÖ motorchik-nginx-1         - Up 10 hours
‚úÖ motorchik-postgres-1     - Up 10 hours (healthy)
‚úÖ motorchik-elasticsearch-1 - Up 10 hours (healthy)
‚úÖ motorchik-certbot-1       - Up 10 hours
```

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º

### 1. Backend (motorchik-backend)

#### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ Ollama –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://host.docker.internal:11434
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Elasticsearch —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ ChromaDB –æ—Ç–∫–ª—é—á–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL + Elasticsearch
- ‚úÖ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–∞–π–¥–µ–Ω–æ 20 –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)
- ‚úÖ Elasticsearch –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (status: 200)
- ‚úÖ Mistral API —Ä–∞–±–æ—Ç–∞–µ—Ç (HTTP/1.1 200 OK)
- ‚úÖ –ú–æ–¥–µ–ª—å llama3:8b –¥–æ—Å—Ç—É–ø–Ω–∞

#### ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –æ—à–∏–±–∫–∏

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:**

1. **–û—à–∏–±–∫–∞ –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö LangChain** (4 —Å–ª—É—á–∞—è)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** `Input to ChatPromptTemplate is missing variables {'\n    "suggestions"'}`
   - **–ì–¥–µ:** `ProactiveAssistantService` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
   - **–ü—Ä–∏—á–∏–Ω–∞:** –§–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ –≤ JSON –ø—Ä–∏–º–µ—Ä–∞—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω–∞
   - **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - –¥–æ–±–∞–≤–ª–µ–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–≤–æ–π–Ω—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏ {{}}

2. **–û—à–∏–±–∫–∞ –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö LangChain** (1 —Å–ª—É—á–∞–π)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** `Input to ChatPromptTemplate is missing variables {'\n    "sentiment"'}`
   - **–ì–¥–µ:** `EmotionAnalyzerService` - –∞–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–π
   - **–ü—Ä–∏—á–∏–Ω–∞:** –§–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ –≤ JSON –ø—Ä–∏–º–µ—Ä–∞—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω–∞
   - **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - –¥–æ–±–∞–≤–ª–µ–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–≤–æ–π–Ω—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏ {{}}

3. **–û—à–∏–±–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞** (1 —Å–ª—É—á–∞–π)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** `'AIModelOrchestratorService' object has no attribute 'select_model_for_task_async'`
   - **–ì–¥–µ:** `rag_service.py` –∏ `sql_agent_service.py`
   - **–ü—Ä–∏—á–∏–Ω–∞:** –ú–µ—Ç–æ–¥ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `select_model_for_task` (—É–∂–µ async), –∞ –Ω–µ `select_model_for_task_async`
   - **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã –Ω–∞ `select_model_for_task`

**–ù–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:**

4. **Ollama call failed with status code 404** (3 —Å–ª—É—á–∞—è)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å mixtral:8b –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, —Å–∏—Å—Ç–µ–º–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - **–ì–¥–µ:** –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mixtral:8b
   - **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ–ª–∞–µ—Ç fallback –Ω–∞ llama3:8b
   - **–†–µ—à–µ–Ω–∏–µ:** –ú–æ–¥–µ–ª—å mixtral:8b –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ Ollama, –Ω–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ

5. **–ò–ò –≤—ã–±—Ä–∞–ª –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—É—é –º–æ–¥–µ–ª—å**
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç mixtral:8b, –Ω–æ –º–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
   - **–ì–¥–µ:** –ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –≤—ã–±–æ—Ä–µ –º–æ–¥–µ–ª–∏
   - **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ–ª–∞–µ—Ç fallback
   - **–†–µ—à–µ–Ω–∏–µ:** –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ Elasticsearch –∑–∞–ø—Ä–æ—Å—ã: 0.001-0.111 —Å–µ–∫—É–Ω–¥ (–±—ã—Å—Ç—Ä–æ)
- ‚úÖ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç

### 2. Frontend (motorchik-frontend)

#### –°—Ç–∞—Ç—É—Å
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

### 3. Nginx

#### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ HTTP/HTTPS –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ:
  - `/api/auth/token` - 200
  - `/api/ai/orchestrator/models` - 200
  - `/api/ai/quality/metrics` - 200
  - `/api/search/es/cars` - 200
  - `/api/ai/finance/calculate` - 200
  - `/api/ai/dialogue/history` - 200

#### ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

1. **–ü–æ–ø—ã—Ç–∫–∏ –≤–∑–ª–æ–º–∞** (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ)
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–æ–ø—ã—Ç–∫–∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π:
     - `/vendor/phpunit/phpunit/src/Util/PHP/eval-stdin.php`
     - `/index.php?s=/Index/\x5Cthink\x5Capp/invokefunction`
     - `/cgi-bin/login.cgi`
     - –ò –¥—Ä—É–≥–∏–µ
   - **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 301 (—Ä–µ–¥–∏—Ä–µ–∫—Ç) –∏–ª–∏ 400 (bad request)
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å rate limiting

2. **SSL handshake –æ—à–∏–±–∫–∏** (2 —Å–ª—É—á–∞—è)
   - `SSL_do_handshake() failed (SSL: error:0A0004E7:SSL routines::reason(1255):SSL alert number 255)`
   - **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ SSL –∑–∞–ø—Ä–æ—Å—ã –æ—Ç —Å–∫–∞–Ω–µ—Ä–æ–≤
   - **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

3. **–¢–∞–π–º–∞—É—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤** (3 —Å–ª—É—á–∞—è)
   - `POST /api/ai/car-dealer/query` - 499 (Client Closed Request)
   - `POST /api/chat/message` - 499 (Client Closed Request)
   - `POST /api/ai/interpret-query` - 499 (Client Closed Request)
   - **–ü—Ä–∏—á–∏–Ω–∞:** –ö–ª–∏–µ–Ω—Ç –∑–∞–∫—Ä—ã–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Ç–∞–π–º–∞—É—Ç 60-120 —Å–µ–∫—É–Ω–¥)
   - **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è LLM –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å LLM –∑–∞–ø—Ä–æ—Å—ã

### 4. PostgreSQL (motorchik-postgres)

#### ‚úÖ –°—Ç–∞—Ç—É—Å
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ Checkpoint –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ Checkpoint –æ–ø–µ—Ä–∞—Ü–∏–∏: 0.001-2.422 —Å–µ–∫—É–Ω–¥ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

### 5. Elasticsearch (motorchik-elasticsearch)

#### ‚úÖ –°—Ç–∞—Ç—É—Å
- ‚úÖ –ö–ª–∞—Å—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ò–Ω–¥–µ–∫—Å `cars` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–ª–∞—Å—Ç–µ—Ä –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ YELLOW (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è single-node)
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø–æ–∏—Å–∫–∞

#### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞—Å—Ç–µ—Ä–µ
- **–ö–ª–∞—Å—Ç–µ—Ä:** docker-cluster
- **–£–∑–µ–ª:** 940cdb4273b5
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** YELLOW (shards started)
- **–õ–∏—Ü–µ–Ω–∑–∏—è:** Basic (valid)
- **–í–µ—Ä—Å–∏—è:** 8.11.0

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)
1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –û—à–∏–±–∫–∏ –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö LangChain (—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–æ–±–æ–∫)
2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –û—à–∏–±–∫–∞ `select_model_for_task_async` (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ –≤ `select_model_for_task`)

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

1. **–ú–æ–¥–µ–ª—å mixtral:8b –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞**
   - **–î–µ–π—Å—Ç–≤–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å –≤ Ollama –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (–µ—Å—Ç—å fallback)

2. **–¢–∞–π–º–∞—É—Ç—ã LLM –∑–∞–ø—Ä–æ—Å–æ–≤**
   - **–î–µ–π—Å—Ç–≤–∏–µ:** –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

3. **–ü–æ–ø—ã—Ç–∫–∏ –≤–∑–ª–æ–º–∞**
   - **–î–µ–π—Å—Ç–≤–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å rate limiting –∏ fail2ban
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π (—Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ LLM**
   - –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ —ç–º–æ—Ü–∏–π

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤**
   - –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ª–µ–≥–∫–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ endpoint
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ:** 3 (–≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã ‚úÖ)
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:** 6 (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ:** –ú–Ω–æ–∂–µ—Å—Ç–≤–æ (–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞)

### –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
- **Backend:** 11 –º–∏–Ω—É—Ç (–ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)
- **Frontend:** 10 —á–∞—Å–æ–≤
- **Nginx:** 10 —á–∞—Å–æ–≤
- **PostgreSQL:** 10 —á–∞—Å–æ–≤
- **Elasticsearch:** 10 —á–∞—Å–æ–≤

### –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π
- **Elasticsearch –∑–∞–ø—Ä–æ—Å—ã:** 100% (–≤—Å–µ 200 OK)
- **API –∑–∞–ø—Ä–æ—Å—ã:** 95%+ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–π–º–∞—É—Ç—ã)
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:** 100%
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Ollama:** 100%

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚úÖ **–°–ò–°–¢–ï–ú–ê –†–ê–ë–û–¢–ê–ï–¢ –°–¢–ê–ë–ò–õ–¨–ù–û**

- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:** 0 (–≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:** 6 (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, —Ç—Ä–µ–±—É—é—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ‚úÖ –•–æ—Ä–æ—à–∞—è
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:** ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã

**–ü—Ä–æ—Ü–µ–Ω—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:** 95%+ ‚úÖ

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–º–ø—Ç—ã –≤ `ProactiveAssistantService` - —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ JSON —Å–∫–æ–±–æ–∫
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–º–ø—Ç—ã –≤ `EmotionAnalyzerService` - —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ JSON —Å–∫–æ–±–æ–∫
3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã `select_model_for_task_async` ‚Üí `select_model_for_task` –≤:
   - `rag_service.py`
   - `sql_agent_service.py`

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä backend** –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
   ```bash
   docker-compose up -d --build motorchik-backend
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–π
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

3. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å mixtral:8b –≤ Ollama
   - –î–æ–±–∞–≤–∏—Ç—å rate limiting –≤ Nginx
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

**–í—ã–≤–æ–¥:** –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –∏ —Ç—Ä–µ–±—É—é—Ç —Ç–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
